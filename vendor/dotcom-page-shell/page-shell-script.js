/*eslint-disable*/
!(function(){"use strict";function e(){return!0===window.MapboxPageShellProduction||/mapbox\.com$/.test(window.location.hostname)}function t(e){"loading"!==document.readyState?e():document.addEventListener("DOMContentLoaded",e)}function n(){var e=document.createElement("div");e.className="shell-wrapper";var t=document.createElement("div");t.className="shell-loading shell-loading--dark shell-fixed shell-top shell-left shell-right shell-bottom shell-flex-parent shell-bg-darken50",t.style.zIndex="9999",e.appendChild(t),document.body.appendChild(e)}function i(){return Le}function o(e){Le=e}function a(){return _e}function r(){_e=!0}function l(){return xe}function s(e){xe=e}function u(e){Ie.push(e)}function c(){Ie.forEach((function(e){e()})),Ie=[]}function d(e){Se=e}function m(){Se&&Se()}function v(e){Be.push(e)}function f(){Be.forEach((function(e){e()})),Be=[]}function g(e){u(e)}function p(e,t){for(var n=document.querySelectorAll(e),i=0;i<n.length;i++)if(n[i].contains(t))return!0;return!1}function h(e,t,n){for(var i=window.document.querySelectorAll(e),o="style"===t,a=0,r=i.length;a<r;a++)if(o)for(var l=Object.keys(n),s=0,u=l.length;s<u;s++){var c=l[s],d=n[c];i[a][t][c]=d}else i[a][t]=n}function y(){E(),x("[data-display-block-unauthenticated]",{display:"block"}),x("[data-show-unauthenticated]",{visibility:"visible"}),L()}function w(){x("[data-display-block-unauthenticated], [data-display-flex-unauthenticated]",{display:"none"}),x("[data-show-unauthenticated]",{visibility:"hidden"})}function b(e){w(),h("[data-user-name]","textContent",e.id),x("[data-user-avatar]",{background:'url("'+e.avatar+'") no-repeat center center',backgroundSize:"30px"}),x("[data-display-block-authenticated]",{display:"block"}),x("[data-show-authenticated]",{visibility:"visible"}),L(e)}function E(){x("[data-display-block-authenticated]",{display:"none"}),x("[data-show-authenticated]",{visibility:"hidden"})}function k(){h('[href="/studio/account/"]',"href","/account/")}function L(e){if(e&&"staff"===e.accountLevel&&k(),I(e))return x("[data-app-specific-navigation]",{display:"flex"}),x("[data-generic-navigation]",{display:"none"}),x("[data-app-specific-user-menu]",{display:"block"}),void x("[data-generic-user-menu]",{display:"none"});x("[data-app-specific-navigation]",{display:"none"}),x("[data-generic-navigation]",{display:"flex"}),x("[data-app-specific-user-menu]",{display:"none"}),x("[data-generic-user-menu]",{display:"block"})}function x(e,t){h(e,"style",t)}function I(e){return e&&"staff"===e.accountLevel&&/^\/(studio|account)/.test(window.location.pathname)}function B(e){throw y(),e}function S(){return e()?fe:ge}function _(){n();var e=new XMLHttpRequest;e.withCredentials=!0,e.onerror=B,e.onload=function(){if(200===e.status)return window.location.reload();throw new Error(e.statusText)},e.open("DELETE",S()+"/api/logout"),e.send()}function A(e){if(e&&e.authorizations)for(var t=void 0,n=0,i=e.authorizations.length;n<i;n++)if("api"===(t=e.authorizations[n]).client&&"pk"===t.usage&&!0===t.default)return t.token}function T(e){var t=e.triggerEl,n=e.pointerEl,i=e.handleResize,o=e.onCrossMobileThreshhold;i||(i=M);var a=function(){window.matchMedia("(min-width: "+ke+"px)").matches?i({pointerEl:n,triggerEl:t}):o&&o()};Te.push(a),window.addEventListener("resize",a)}function C(){Ae&&(window.clearTimeout(Ae),Ae=null)}function M(e){var t=e.pointerEl,n=e.triggerEl.getBoundingClientRect();t.style.left=Math.round(n.left+n.width/2)+"px"}function P(){for(;Te.length;)window.removeEventListener("resize",Te.shift())}function R(e){var t=e.pointerEl,n=e.onPointerReset;Ae=window.setTimeout((function(){t&&(t.style.left="auto"),n&&n()}),250)}function z(e){var t=e.triggerEl.getBoundingClientRect(),n=document.getElementById("user-menu-body"),i=document.getElementById("user-menu-container"),o=n.getBoundingClientRect(),a=Math.max(document.documentElement.clientWidth,window.innerWidth||0),r=Math.max(10,a-(t.right-t.width/2+o.width/2));i.style.transformOrigin=t.left+t.width/2+"px 0",n.style.right=r+"px"}function j(){return Pe}function q(e){if(Pe&&("Escape"===e.key||"Esc"===e.key||27===e.keyCode)){D();var t=document.getElementById("user-menu-trigger");t&&t.focus()}}function N(e){var t=document.getElementById("user-menu-container"),n=document.getElementById("user-menu-pointer"),i=document.getElementById("user-menu-trigger");t&&n&&i&&(t.contains(e.target)||n.contains(e.target)||i.contains(e.target)||D())}function O(){var e=document.getElementById("user-menu-container"),t=document.getElementById("user-menu-pointer"),n=document.getElementById("user-menu-trigger");e&&t&&n&&(m&&m(),C(),Pe=!0,M({pointerEl:t,triggerEl:n}),z({triggerEl:n}),e.classList.add("shell-animated-menu--visible"),t.classList.add("shell-animated-menu__pointer--visible"),d(D),e.addEventListener("keydown",q),n.setAttribute("aria-expanded","true"),n.addEventListener("keydown",q),Ce=t,Me=n,document.addEventListener("focusin",N),T({triggerEl:Me,pointerEl:Ce,onCrossMobileThreshhold:D}),T({triggerEl:Me,handleResize:z}))}function D(){var e=document.getElementById("user-menu-container"),t=document.getElementById("user-menu-pointer"),n=document.getElementById("user-menu-trigger");e&&t&&n&&(Pe=!1,e.classList.remove("shell-animated-menu--visible"),t.classList.remove("shell-animated-menu__pointer--visible"),e.removeEventListener("keydown",q),n.setAttribute("aria-expanded","false"),n.removeEventListener("keydown",q),document.removeEventListener("focusin",N),P(),R({pointerEl:Ce,onPointerReset:function(){Ce=null}}),Me=null)}function U(e){if(p("[data-sign-out]",e.target))return e.preventDefault(),_();var t=j(),n=document.getElementById("user-menu-trigger");if(!t&&n&&n.contains(e.target))return O();var i=document.getElementById("user-menu-container");return t&&i&&!i.contains(e.target)?D():void 0}function X(e,t){if("function"==typeof e?(t=e,e={}):e=e||{},e.cache=void 0===e.cache||e.cache,a()&&e.cache){var n=i();return n?b(n,l()):y(),c(),void(t&&t())}if(Re)t&&g(t);else{Re=!0;var u=new XMLHttpRequest;u.open("GET",S()+"/api/session"),u.setRequestHeader("Accept","application/json"),u.onerror=B,u.onload=function(){if(r(),403===u.status)y();else if(200!==u.status)y(),console.log(u.statusText);else{var e=JSON.parse(u.response);o(e),s(A(e)),b(e),analytics.identify(e.id,{username:e.id,email:e.email})}document.addEventListener("click",U),c(),t&&t(),Re=!1},u.withCredentials=!0,u.send()}}function Y(e,t,n){function i(t){e.contains(t.target)||n.contains(t.target)||a()}function o(){m&&m(),C(),f||(f=!0,clearTimeout(p),M({pointerEl:t,triggerEl:e}),t.classList.add("shell-animated-menu__pointer--visible"),n.classList.add("shell-animated-menu--visible"),e.setAttribute("aria-expanded","true"),d(a),h.addEventListener("focusin",i),T({triggerEl:e,pointerEl:t,onCrossMobileThreshhold:a}))}function a(){f&&(f=!1,clearTimeout(p),g=null,t.classList.remove("shell-animated-menu__pointer--visible"),n.classList.remove("shell-animated-menu--visible"),e.setAttribute("aria-expanded","false"),h.removeEventListener("focusin",i),P(),R({pointerEl:t}))}function r(){if(f&&g===je)return a();g=je,f||(clearTimeout(p),o())}function l(){g!==je&&(g=null,p=setTimeout((function(){f&&null===g&&a()}),qe))}function s(){g!==je&&(clearTimeout(p),g=ze)}function u(t){if(t.target.getAttribute&&t.target.getAttribute("data-nav-link"))return a();if(!n.contains(t.target))return e.contains(t.target)?r():void a()}function c(t){f&&("Escape"!==t.key&&"Esc"!==t.key&&27!==t.keyCode||(a(),e.focus()))}var f=!1,g=null,p=void 0,h=window.document;if(!e.hasAttribute("data-page-shell-hover-menu")){e.setAttribute("data-page-shell-hover-menu","");var y=ve(e,(function(){g!==je&&(clearTimeout(p),g=ze,o())}),(function(){}));e.addEventListener("mouseleave",l),e.addEventListener("keydown",c),n.addEventListener("mouseenter",s),n.addEventListener("mouseleave",l),n.addEventListener("keydown",c),h.addEventListener("click",u);var w=[];if("ontouchstart"in document.documentElement)for(var b=document.body.childNodes,E=0,k=b.length;E<k;E++)!(function(e,t){var n=b[e];n.addEventListener("mouseover",Ne),w.push((function(){n.removeEventListener("mouseover",Ne)}))})(E);v((function(){e.removeAttribute("data-page-shell-hover-menu"),y.remove(),e.removeEventListener("mouseleave",l),e.removeEventListener("keydown",c),n.removeEventListener("mouseenter",s),n.removeEventListener("mouseleave",l),n.removeEventListener("keydown",c),h.removeEventListener("click",u),w.forEach((function(e){e()}))}))}}function H(e){console.log("Raven failed to initialize"),e&&console.log(e)}function W(){t((function(){if(!window.Raven){var e={shouldSendCallback:function(){return Oe}},t=document.createElement("script");t.type="text/javascript",t.src="https://cdn.ravenjs.com/"+be+"/raven.min.js",t.setAttribute("crossorigin","anonymous"),t.setAttribute("async",""),t.setAttribute("defer",""),t.onerror=H,t.onload=function(){window.Raven?window.Raven.config(Ee,e).install():H()},document.head.appendChild(t)}}))}function F(){if(!De){var e=document.getElementById("page-shell"),t=document.getElementById("mobile-nav-menu"),n=document.getElementById("mobile-nav-backdrop");if(t&&e&&n){var i=Math.max(t.getBoundingClientRect().bottom+120,window.innerHeight);e.style.height=String(i)+"px",e.style.overflow="hidden",n.classList.add("shell-mobile-nav__backdrop--visible"),n.style.height=String(i-parseInt(n.style.top))+"px",De=!0}}}function J(){if(De){var e=document.getElementById("page-shell"),t=document.getElementById("mobile-nav-backdrop");e&&t&&(e.style.height="",e.style.overflow="",e.style.overflowX="hidden",t.classList.remove("shell-mobile-nav__backdrop--visible"),De=!1)}}function Q(e,t){return""+e+Z(t)}function V(e,t){return"-"+e+"-"+t}function Z(e){return""+e.charAt(0).toUpperCase()+e.substr(1)}function G(e){return e in(arguments.length>1&&void 0!==arguments[1]?arguments[1]:window)}function $(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ue;return e in n.style||!!t&&Xe.some((function(t){return $(Q(t,e))}))}function K(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Ue,o=n.allowPrefixedProp,a=n.allowPrefixedValue,r=!1;return(o||a)&&(r=Xe.some((function(n){return K(o?Q(n,e):e,a?V(n,t):t)}))),r||(i.style[e]=t,i.style[e]===t)}function ee(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ue;(Ye={flexBox:$("flex",e,t)&&K("display","flex",{allowPrefixedProp:!1,allowPrefixedValue:e},t),viewportUnits:K("width","100vw",{allowPrefixedProp:!1,allowPrefixedValue:!1},t),visibilityState:G("visibilityState",window.document),devicePixelRatio:G("devicePixelRatio")}).doesCutMustard=Object.keys(Ye).every((function(e){return Ye[e]}))}function te(){var e=window.document.getElementById("page-shell-compatibility-dismiss"),t=window.document.getElementById("page-shell-compatibility-warning");We=!0,He=!1,e&&e.removeEventListener("click",te),t&&(t.style.display="none"),window.localStorage&&window.localStorage.setItem("suppress-browser-compatibility-warning","true")}function ne(){if(null==Ye.doesCutMustard&&ee(!0),!(We||Ye.doesCutMustard||"localStorage"in window&&"true"===window.localStorage.getItem("suppress-browser-compatibility-warning"))){var e=window.document.getElementById("page-shell-compatibility-warning");if(e&&(e.style.display="block"),!He){var t=window.document.getElementById("page-shell-compatibility-dismiss");t&&t.addEventListener("click",te)}He=!0}}function ie(){window.matchMedia("(min-width: "+ke+"px)").matches&&ae()}function oe(){var e=document.getElementById("mobile-nav-menu"),t=document.getElementById("page-header-content");e&&(Fe=!0,e.classList.add("shell-animated-menu--visible"),t.classList.add("shell-mobile-nav--visible"),$("textOrientation",!0)||(document.querySelector(".shell-mobile-nav__trigger__bar--top").setAttribute("transform","translate(6 -1) rotate(45)"),document.querySelector(".shell-mobile-nav__trigger__bar--bottom").setAttribute("transform","translate(-6.5 6) rotate(-45)")),F(),window.addEventListener("resize",ie))}function ae(){var e=document.getElementById("mobile-nav-menu"),t=document.getElementById("page-header-content");e&&(Fe=!1,e.classList.remove("shell-animated-menu--visible"),t.classList.remove("shell-mobile-nav--visible"),$("textOrientation",!0)||(document.querySelector(".shell-mobile-nav__trigger__bar--top").setAttribute("transform",""),document.querySelector(".shell-mobile-nav__trigger__bar--bottom").setAttribute("transform","")),J(),window.removeEventListener("resize",ie))}function re(e){var t=document.getElementById("mobile-nav-trigger-toggle"),n=document.getElementById("mobile-nav-menu"),i=document.getElementById("page-header-content");t&&n&&(e.target.getAttribute&&e.target.getAttribute("data-nav-link")?(document.documentElement.scrollTop=0,document.body.scrollTop=0,ae()):t.contains(e.target)?Fe?ae():oe():!Fe||n.contains(e.target)||i.contains(e.target)||ae())}function le(){if(!Je){Je=!0;var e=document.querySelectorAll("[data-nav-trigger]");if(0!==e.length){var t=void 0,n=void 0,i=void 0;for(i=0;i<e.length;i++)n=(t=e[i]).getAttribute("data-nav-trigger"),Y(t,document.querySelector('[data-nav-pointer="'+n+'"]'),document.querySelector('[data-nav-menu="'+n+'"]'));document.addEventListener("click",re)}}}function se(){Je&&(Je=!1,f(),J(),ae(),document.removeEventListener("click",re))}function ue(){var t=window.analytics=window.analytics||[];if(window.analytics=t,!t.initialize)if(t.invoked)window.console&&console.error&&console.error("Segment snippet included twice.");else{t.invoked=!0,t.methods=["trackSubmit","trackClick","trackLink","trackForm","pageview","identify","reset","group","track","ready","alias","debug","page","once","off","on"],t.factory=function(e){return function(){var n=Array.prototype.slice.call(arguments);return n.unshift(e),t.push(n),t}};for(var n=0;n<t.methods.length;n++){var i=t.methods[n];t[i]=t.factory(i)}t.load=function(e){var t=document.createElement("script");t.type="text/javascript",t.async=!0,t.src=("https:"===document.location.protocol?"https://":"http://")+"cdn.segment.com/analytics.js/v1/"+e+"/analytics.min.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(t,n)},t.SNIPPET_VERSION="4.0.0"}e()?t.load(ye):t.load(we),t.page()}function ce(){if(window.history&&window.history.pushState){var e=void 0,t=function(t){t=t||{},setTimeout((function(){t.referrer=e,analytics.page(t),window._cio&&window._cio.page&&window._cio.page(window.location.href),e=window.location.href}),300)},n=window.history.pushState;window.history.pushState=function(){e=window.location.href,t({clientSideRouting:"pushstate"}),n.apply(window.history,arguments)},window.addEventListener("popstate",(function(){t({clientSideRouting:"popstate"})}))}}var de=function(){for(var e={},t=0;t<arguments.length;t++){var n=arguments[t];for(var i in n)me.call(n,i)&&(e[i]=n[i])}return e},me=Object.prototype.hasOwnProperty,ve=function(e,t,n){function i(e,t){return f&&(f=clearTimeout(f)),v=0,n.call(e,t)}function o(e){s=e.clientX,u=e.clientY}function a(e,n){if(f&&(f=clearTimeout(f)),Math.abs(c-s)+Math.abs(d-u)<g.sensitivity)return v=1,t.call(e,n);c=s,d=u,f=setTimeout((function(){a(e,n)}),g.interval)}function r(t){return f&&(f=clearTimeout(f)),e.removeEventListener("mousemove",o,!1),1!==v&&(c=t.clientX,d=t.clientY,e.addEventListener("mousemove",o,!1),f=setTimeout((function(){a(e,t)}),g.interval)),this}function l(t){return f&&(f=clearTimeout(f)),e.removeEventListener("mousemove",o,!1),1===v&&(f=setTimeout((function(){i(e,t)}),g.timeout)),this}var s,u,c,d,m={},v=0,f=0,g={sensitivity:7,interval:100,timeout:0};return m.options=function(e){return g=de({},g,e),m},m.remove=function(){e&&(e.removeEventListener("mouseover",r,!1),e.removeEventListener("mouseout",l,!1))},e&&(e.addEventListener("mouseover",r,!1),e.addEventListener("mouseout",l,!1)),m},fe="https://www.mapbox.com",ge="https://122e4e-mapbox.global.ssl.fastly.net",pe="pk.eyJ1IjoibWFwYm94IiwiYSI6ImNpejY4M29iazA2Z2gycXA4N2pmbDZmangifQ.-g_vE53SD2WrJ6tFX7QHmA",he="pk.eyJ1IjoibWFwYm94IiwiYSI6ImNpZ3BqeDZlcDAwMDBzcmt1YnQ1OTM4cTEifQ.54XwgUSkvlmB7gHW4vWJ3w",ye="fl0c8p240n",we="0biiejpgfj",be="3.17.0",Ee="https://581913e6cd0845d785f5b551a4986b61@sentry.io/11290",ke=640,Le=void 0,xe=void 0,Ie=[],Be=[],Se=void 0,_e=!1,Ae=void 0,Te=[],Ce=null,Me=null,Pe=!1,Re=!1,ze="mouse",je="click",qe=300,Ne=function(){},Oe=!0,De=!1,Ue=window.document.createElement("div"),Xe=["webkit","moz","o","ms"],Ye={},He=!1,We=!1,Fe=!1,Je=!1,Qe=!1,Ve={isProduction:e,afterDomContentLoaded:t,hoverintent:ve,appendFullscreenLoader:n,getMapboxAccessToken:function(){return e()?pe:he},getUser:i,isUserChecked:a,onNextUserCheck:g,afterUserCheck:function(e){a()?e():g(e)},getUserPublicAccessToken:l,querySelectorContainsElement:p,signOut:_,checkSession:X,createHoverMenu:Y,initializeNavigation:le,removeNavigation:se,initialize:function(){Qe||(ue(),W(),ce()),Qe=!0,t((function(){X(),se(),le(),ne()}))},disableRaven:function(){Oe=!1},generateCompatibilitySummary:ee,getCompatibilitySummary:function(){return Ye}};window.MapboxPageShell=Ve,Ve.initialize()})();